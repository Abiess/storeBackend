spring.application.name=storeBackend

# H2 Database Configuration (lokal)
spring.datasource.url=jdbc:h2:mem:storedb;MODE=PostgreSQL;DATABASE_TO_LOWER=TRUE;DEFAULT_NULL_ORDERING=HIGH
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=

# H2 Console aktivieren
spring.h2.console.enabled=true
spring.h2.console.path=/h2-console

# JPA/Hibernate Configuration
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
spring.jpa.hibernate.ddl-auto=none
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=true

# SQL Initialization - nutze schema.sql fuer H2 lokal
spring.sql.init.mode=always
spring.sql.init.schema-locations=classpath:schema.sql
spring.sql.init.continue-on-error=false

# Flyway - DEAKTIVIERT fuer H2 lokal (nur fuer PostgreSQL in Produktion)
spring.flyway.enabled=false

# Actuator & Prometheus Metrics for Grafana
management.endpoints.web.exposure.include=health,info,metrics,prometheus
management.endpoint.health.show-details=always
management.metrics.export.prometheus.enabled=true
management.metrics.distribution.percentiles-histogram.http.server.requests=true
management.metrics.tags.application=${spring.application.name}

# HTTP Request Metrics
management.observations.http.server.requests.name=http.server.requests

# Twilio Configuration (Phone Verification)
# For Production: Add real values
# For Development: enabled=false (simulates SMS/WhatsApp)
twilio.enabled=false
twilio.account-sid=YOUR_ACCOUNT_SID
twilio.auth-token=YOUR_AUTH_TOKEN
twilio.phone-number=+49123456789
twilio.whatsapp-number=+49123456789

# Phone Verification Settings
verification.code.expiry-minutes=10
verification.max-attempts=3
verification.rate-limit-minutes=1

