spring.application.name=storeBackend

# H2 Database Configuration (local)
spring.datasource.url=jdbc:h2:mem:storedb;MODE=PostgreSQL;DATABASE_TO_LOWER=TRUE;DEFAULT_NULL_ORDERING=HIGH
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=

# H2 Console aktivieren
spring.h2.console.enabled=true
spring.h2.console.path=/h2-console

# JPA/Hibernate Configuration
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
spring.jpa.hibernate.ddl-auto=none
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=true

# SQL Initialization - use schema.sql for H2 local
spring.sql.init.mode=always
spring.sql.init.schema-locations=classpath:schema.sql
spring.sql.init.continue-on-error=false

# Flyway - DISABLED for H2 local (only for PostgreSQL in production)
spring.flyway.enabled=false

# Actuator & Prometheus Metrics for Grafana
management.endpoints.web.exposure.include=health,info,metrics,prometheus
management.endpoint.health.show-details=always
management.metrics.export.prometheus.enabled=true
management.metrics.distribution.percentiles-histogram.http.server.requests=true
management.metrics.tags.application=${spring.application.name}

# HTTP Request Metrics
management.observations.http.server.requests.name=http.server.requests

# Twilio Configuration (Phone Verification)
# For Production: Add real values
# For Development: enabled=false (simulates SMS/WhatsApp)
twilio.enabled=false
twilio.account-sid=YOUR_ACCOUNT_SID
twilio.auth-token=YOUR_AUTH_TOKEN
twilio.phone-number=+49123456789
twilio.whatsapp-number=+49123456789

# Phone Verification Settings
verification.code.expiry-minutes=10
verification.max-attempts=3
verification.rate-limit-minutes=1

# Email Verification Settings
# DEVELOPMENT MODE: Skip email verification requirement for login
# Set to false in production when email is properly configured
email.verification.skip-for-login=true
email.verification.enabled=true

# Email Configuration (Mail-Server)
# IMPORTANT: These values must be configured for production
spring.mail.host=smtp.example.com
spring.mail.port=587
spring.mail.username=noreply@example.com
spring.mail.password=
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.from=noreply@example.com

# Application Base URL (for Email-Links)
app.base-url=http://localhost:4200
